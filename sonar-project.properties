sonar.projectKey=turismo-backend
sonar.projectName=Turismo Backend
sonar.projectVersion=1.0.0
sonar.projectDescription=Backend del sistema de turismo de Capachica

# Rutas del código fuente
sonar.sources=app,routes,config,database/factories
sonar.sourceEncoding=UTF-8

# Rutas de tests
sonar.tests=tests
sonar.test.inclusions=**/*Test.php

# Archivos y directorios a excluir del análisis
sonar.exclusions=**/vendor/**,\
  **/storage/**,\
  **/bootstrap/**,\
  **/node_modules/**,\
  **/public/**,\
  **/*.blade.php,\
  **/database/migrations/**,\
  **/database/seeders/**,\
  **/config/cors.php,\
  **/config/sanctum.php,\
  **/app/Providers/**,\
  **/app/Console/**,\
  **/app/Exceptions/**

# Configuración de coverage (reportes generados por PHPUnit)
sonar.php.coverage.reportPaths=coverage/clover.xml
sonar.php.tests.reportPath=coverage/junit.xml

# Lenguaje y sufijos de archivo
sonar.language=php
sonar.php.file.suffixes=php

# Configuración de código duplicado
sonar.cpd.php.minimumTokens=50
sonar.cpd.php.minimumLines=10

# Exclusiones de cobertura de código
sonar.coverage.exclusions=**/tests/**,\
  **/database/**,\
  **/config/**,\
  **/app/Providers/**,\
  **/app/Console/**,\
  **/app/Exceptions/**,\
  **/routes/**

# Exclusiones de duplicación de código
sonar.cpd.exclusions=**/tests/**,\
  **/database/migrations/**,\
  **/database/seeders/**,\
  **/database/factories/**

# Configuración de Issues
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignorar warnings de funciones obsoletas en Laravel
sonar.issue.ignore.multicriteria.e1.ruleKey=php:S1874
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.php

# Ignorar complejidad ciclomática en controladores (Laravel maneja esto bien)
sonar.issue.ignore.multicriteria.e2.ruleKey=php:S1541
sonar.issue.ignore.multicriteria.e2.resourceKey=**/Controllers/*.php

# Ignorar warnings sobre nombres de métodos en tests
sonar.issue.ignore.multicriteria.e3.ruleKey=php:S100
sonar.issue.ignore.multicriteria.e3.resourceKey=**/tests/**/*.php

# Configuración de calidad del código
sonar.php.coverage.forceZeroCoverage=false

# Configuración de logging
sonar.log.level=INFO
sonar.verbose=false

# Conexión a SonarQube (debe ser configurado en Jenkins o por variables de entorno)
# sonar.host.url=${SONAR_HOST_URL}
# sonar.login=${SONAR_TOKEN}
sonar.host.url=http://docker.sonar:9000
sonar.login=squ_c5695c61a6458fc0618265f8d02975215b245fed
